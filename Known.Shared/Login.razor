@inherits LoginPage

<div class="login">
    <Tooltip Title="在此处切换界面类型" Style="margin:5px;">
        <Segmented TValue="string" Value="Index.UIType.ToString()" Labels="uiTypes" OnChange="OnUIChanged" />
    </Tooltip>
    <div class="login-form">
        <div class="login-left">
            <div class="slogan">@Config.App.Name</div>
            <div class="image"><img src="_content/Known.Demo/img/login.jpg" /></div>
        </div>
        <div class="login-right">
            <h1>用户登录</h1>
            @if (Index.UIType == UIType.AntDesign)
            {
                <Known.AntBlazor.LoginForm Model="Model" OnLogin="OnUserLogin" />
            }
            else if (Index.UIType == UIType.Bootstrap)
            {
                <Known.BootBlazor.LoginForm Model="Model" OnLogin="OnUserLogin" />
            }
        </div>
    </div>
</div>
<div class="copyright">
    <span>©2020-@DateTime.Now.ToString("yyyy")</span>
    <span>Powered By</span>
    <a href="http://known.pumantech.com" target="_blank">Known</a>
</div>

<style>
    .login {
        position:absolute;top:50%;left:50%;background-color:#fff;
        width:800px;height:400px;margin-left:-400px;margin-top:-200px;
        -webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;
        box-shadow:0 0 10px 3px rgba(0,0,0,.3);
    }
    .login h1 {font-size:1.3rem;font-weight:bold;margin-bottom:20px;text-align:center;}
    .login-form {display:grid;grid-template-columns:repeat(auto-fit,minmax(0%,1fr));}
    .login-left {margin-top:50px;padding-left:90px;height:250px;}
    .login .slogan {width:260px;text-align:center;color:#333;font-size:1.3rem;font-weight:bold;}
    .login .image {width:260px;height:180px;margin-top:20px;}
    .login-right {padding:10px 50px;}
    .login-right .ant-input-affix-wrapper > .ant-input:not(textarea) {padding-left:10px;}
    .login-right .boot-row .fa {padding-top:10px;width:38px;}

    .copyright {position:absolute;bottom:50px;text-align:center;color:#fff;width:100%;font-size:1.1rem;}
    .copyright span {margin:0 5px;}
    .copyright a {color:#fff;}

    @@media screen and (max-width:768px) {
        .login {width:80%;margin-left:-40%;}
        .login-left {display:none;}
        .login-right {padding:50px 20px;}
    }
</style>

@code {
    private string[] uiTypes = [
        UIType.AntDesign.ToString(),
        UIType.Bootstrap.ToString()
    ];

    [CascadingParameter] private Index Index { get; set; }

    protected override void OnInitialized()
    {
        base.OnInitialized();
        Model.UserName = "Admin";
        Model.Password = "888888";
    }

    private void OnUIChanged(string item)
    {
        var type = Utils.ConvertTo<UIType>(item);
        Index.SetUIType(type);
    }
}